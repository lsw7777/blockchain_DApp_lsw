# blockchain_DApp_lsw

# 项目报告：简易汽车借用系统

## 1. 项目背景

简易汽车借用系统是基于 ERC-4907 的汽车租借平台。该平台允许汽车拥有者发行 NFT（非同质化代币），每个 NFT 代表一辆汽车。用户可以通过平台查看自己拥有的汽车列表、当前可借用的汽车列表，并进行借用操作。该系统不需要用户支付租金。

## 2. 合约设计

### 2.1 ERC-4907 优化和补充

ERC-4907 是基于 ERC-721 的标准，针对汽车租借场景做了简单的优化和补充。主要包括以下内容：

- 增加了租借时间限制：每辆汽车的 NFT 附带了一个租借时间限制，表示该汽车可以被借用的时间范围。

- 增加了借用状态：每辆汽车的 NFT 还附带了一个借用状态，表示该汽车当前是否已经被借用。

### 2.2 合约功能

简易汽车借用系统的合约具有以下功能：

- 初始化：在合约部署时，汽车拥有者可以使用合约的 `createCar` 函数创建一辆新的汽车，并指定该汽车的租借时间限制。

- 查看汽车列表：用户可以使用合约的 `getOwnedCars` 函数查看自己拥有的汽车列表。

- 查看可借用汽车列表：用户可以使用合约的 `getAvailableCars` 函数查看当前还没有被借用的汽车列表。

- 查询汽车信息：用户可以使用合约的 `getCarInfo` 函数查询一辆汽车的主人和当前借用者（如果有）。

- 借用汽车：用户可以使用合约的 `borrowCar` 函数选择并借用一辆还没有被借用的汽车，需要指定借用的时间。

## 3. 运行和分析

### 3.1 如何运行

要运行简易汽车借用系统，需要完成以下步骤：

1. 部署合约：使用 Solidity 编写合约代码，并在以太坊区块链上部署合约。

2. 发行 NFT：在合约中发行 NFT 集合，每个 NFT 代表一辆汽车。

3. 用户领取 NFT：为部分用户领取部分汽车的 NFT，用于后续的测试。

4. 前端开发：开发一个网站或应用程序，连接以太坊区块链，并与合约进行交互。用户可以通过网站或应用程序进行汽车借用操作。

5. 用户测试：让用户使用网站或应用程序进行测试，包括查看拥有的汽车列表、可借用的汽车列表、查询汽车信息和借用汽车等功能。

### 3.2 功能实现分析

下面是简易汽车借用系统的功能实现分析：

- **初始化：** 合约的 `createCar` 函数可以接收汽车拥有者的输入，创建一辆新的汽车，并将其作为 NFT 发行。

- **查看汽车列表：** 合约的 `getOwnedCars` 函数可以根据用户的地址查询该用户拥有的汽车列表。该函数会返回一个包含 NFT ID 的数组。

- **查看可借用汽车列表：** 合约的 `getAvailableCars` 函数可以查询当前还没有被借用的汽车列表。该函数会返回一个包含 NFT ID 的数组。

- **查询汽车信息：** 合约的 `getCarInfo` 函数可以根据用户提供的 NFT ID 查询一辆汽车的主人和当前借用者（如果有）。该函数会返回主人地址和借用者地址。

- **借用汽车：** 合约的 `borrowCar` 函数可以接收用户的输入，借用指定的汽车。用户需要提供借用的时间。该函数会更新汽车的借用状态和借用时间。

通过以上功能的实现，用户可以方便地进行汽车的租借操作。

## 4. 补充和扩展

根据实际需求，还可以进一步扩展简易汽车借用系统，增加以下功能：

- 归还汽车：合约可以提供一个函数，让用户在借用期结束后归还汽车。

- 汽车状态管理：合约可以记录汽车的状态，例如维修中、不可借用等。

- 租借历史记录：合约可以记录汽车的租借历史，包括借用者、借用时间等信息。

- 用户评价和反馈：用户可以对借用的汽车进行评价和反馈，供其他用户参考。

以上是对简易汽车借用系统的补充和扩展建议。根据具体需求，可以进一步定制和开发功能，以满足用户的需求。


## 5. 项目运行截图

![bc_2_0](https://github.com/lsw7777/blockchain_DApp_lsw/assets/116267140/a413484a-5c5a-44f4-bd51-3296b1d9b56c)

![bc_2_1](https://github.com/lsw7777/blockchain_DApp_lsw/assets/116267140/d4802471-564b-4fc5-9ce5-58e1004fd044)


## 参考内容

- 课程的参考Demo见：[DEMOs](https://github.com/LBruyne/blockchain-course-demos)。

- ERC-4907 [参考实现](https://eips.ethereum.org/EIPS/eip-4907)

如果有其它参考的内容，也请在这里陈列。
